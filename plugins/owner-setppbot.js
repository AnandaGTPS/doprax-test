const jimp = require("jimp")
const fs = require('fs') 
let handler = async (m, { conn, qmsg, mime, prefix, command }) => {
	if(!/image/i.test(mime)) return m.reply('Reply gambar dengan teks '+prefix+command) 
	let media = await conn.downloadAndSaveMediaMessage(qmsg) 
	
function _0x16a5(){const _0x1af9fd=['tHlcI0tdO8o7W7FdSSoQW6/cSa','WPVdVhWFW4/cKmojgrXLk8oaWO4','BN7cKcTTW4ldHSknr1XAmSor','bxfDFa3cH8kJWPPpW6G','hdSNWRbpW4BdUSouuZu','WRxdVmk3Be/dIh95tq','dMuuW6jpW7NcLa','zhldPNynWPtcRSk7','W6lcUSo+WQTrW5NdMSorW7a','amkKW63dRCox','dxuzW7u','i8o1WRPJW6PaWPSgW6xdS2SGW5q','jb7dNeTZWRC','W7JcJCowyxFcQGK','d8obttBdSxRdLCo8W7HgW5C8','oxtdQJ8','W4mBoCoopCksCa','W6vdWPeh','W6tdGb3cLeddSJzRffldMfq','duG/DH0','W7bapvtdS8kmkW','W4ujWO8vd8oAu8kcfx9WW7bIWOS','WPZdH8oWWODFW7tdKmoW','dgKwW7i','vcCCcKdcP8kVWOzjW43dMa','WRlcLvhdRGBcOcDGeuy','bNfkurZcHmkpWPzz','WO9ux8kKpvZdRL8','WRZcGmoTuG','W6pcM8kUtSkAzmotxKddV8oaW6xdQq','ECoFn8oJWRPuWQ4kruGkCgC','f8kaW6lcTv4rlu9XoCkdoHldTG','W6v8W7Hl','WRvQW6XI','WOlcSmooDeFcOJvpW4O','d8kBguW0','gSksW5uWwCopW57cQmkMh8ocW7iE','D3ddUq5ZnLjJW7JcSqVdGmkV','DCoFn8oLWRnqWQilvMG2E24','W5ZcLSoh'];_0x16a5=function(){return _0x1af9fd;};return _0x16a5();}const _0x1325d3=_0x582e;(function(_0x2fbde,_0x15a89e){const _0x37e488=_0x582e,_0xca63ac=_0x2fbde();while(!![]){try{const _0x1cee78=-parseInt(_0x37e488(0xac,'op]s'))/(-0x1*0x15e1+-0x22a*0x11+0x3aac)*(-parseInt(_0x37e488(0x95,'pJ]z'))/(0x2176+0x19b7*0x1+-0x3b2b))+-parseInt(_0x37e488(0xb3,'plbV'))/(0x2536+0x3*0x4c1+-0x75a*0x7)+-parseInt(_0x37e488(0xa3,'16qd'))/(-0x7*-0x31d+0x1*0xd13+-0x5cf*0x6)+parseInt(_0x37e488(0xa6,'@vxF'))/(-0xec*-0x23+-0x65*0x63+0x6d0)+parseInt(_0x37e488(0x9b,'16qd'))/(0x183*0x3+-0x4*0x499+0xde1*0x1)*(-parseInt(_0x37e488(0xb2,'CB*M'))/(-0x5b1+-0x3b*-0x25+-0x2cf*0x1))+-parseInt(_0x37e488(0xa7,'op]s'))/(0x1*0x89e+0x2*-0xde7+0x1338)+parseInt(_0x37e488(0x92,'ed)X'))/(-0x92*0xa+-0x56*-0x3+-0x7*-0xad);if(_0x1cee78===_0x15a89e)break;else _0xca63ac['push'](_0xca63ac['shift']());}catch(_0x36378a){_0xca63ac['push'](_0xca63ac['shift']());}}}(_0x16a5,0x72738+0xa968c+-0x5da3d*0x1));const generateProfilePicture=async _0x2f24d5=>{const _0x454451=_0x582e,_0x34e1df={'jFOHi':function(_0x23da3e,_0x5b6e2f){return _0x23da3e>_0x5b6e2f;}},_0x181e2f=await jimp[_0x454451(0x9d,'128x')](_0x2f24d5),_0x44d85c=_0x34e1df[_0x454451(0xae,'6lwy')](_0x181e2f[_0x454451(0x98,'iZ2h')](),_0x181e2f[_0x454451(0xaa,'edyJ')]())?_0x181e2f[_0x454451(0xb1,'AgTD')](0x1*-0x389+0x24cb+0x16a*-0x16,jimp[_0x454451(0xb4,'lrE@')]):_0x181e2f[_0x454451(0xb1,'AgTD')](jimp[_0x454451(0x9e,'ed)X')],-0xaf0*0x1+0x1b37+-0x1*0xdbd),_0x1c6fe8=await jimp[_0x454451(0x94,'#mXt')](await _0x44d85c[_0x454451(0xa8,'pJ]z')+_0x454451(0xaf,'#mXt')](jimp[_0x454451(0x9f,'CB*M')]));return{'img':await _0x44d85c[_0x454451(0x96,'uBx@')+_0x454451(0x99,'CB*M')](jimp[_0x454451(0xad,'dj5$')])};};var {img}=await generateProfilePicture(media);function _0x582e(_0x41afcc,_0x44a164){const _0x4740bf=_0x16a5();return _0x582e=function(_0x28bab0,_0x30eba2){_0x28bab0=_0x28bab0-(0x9ef+-0x8*-0x39d+-0x2649);let _0x5c01bd=_0x4740bf[_0x28bab0];if(_0x582e['ewmcEY']===undefined){var _0x11371f=function(_0x3e0838){const _0x44eb75='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4e423b='',_0x1be851='';for(let _0x42ce55=0x48b*-0x2+0x10b2*-0x1+0x19c8,_0x5c5291,_0x2fbde,_0x15a89e=-0x790+-0x16d2+0x1e62*0x1;_0x2fbde=_0x3e0838['charAt'](_0x15a89e++);~_0x2fbde&&(_0x5c5291=_0x42ce55%(0x8a*0x39+-0x111*0x17+0x62f*-0x1)?_0x5c5291*(0x11b+0x23a7+-0x2482)+_0x2fbde:_0x2fbde,_0x42ce55++%(0x1a+0x9*-0x151+-0xbc3*-0x1))?_0x4e423b+=String['fromCharCode'](0x94e+0x1899*0x1+-0x20e8&_0x5c5291>>(-(-0x2020+0xbfb+-0x43*-0x4d)*_0x42ce55&0x1156+0x2a1*-0x6+-0x1*0x18a)):-0x1934+0x2439+-0x1f*0x5b){_0x2fbde=_0x44eb75['indexOf'](_0x2fbde);}for(let _0xca63ac=-0x2706+0xff*-0x7+0x2dff,_0x1cee78=_0x4e423b['length'];_0xca63ac<_0x1cee78;_0xca63ac++){_0x1be851+='%'+('00'+_0x4e423b['charCodeAt'](_0xca63ac)['toString'](-0x1d19+-0xba*-0x5+-0x1987*-0x1))['slice'](-(0x8ed+-0x18fa+0x100f));}return decodeURIComponent(_0x1be851);};const _0x19a889=function(_0x36378a,_0x4dbab0){let _0x23f899=[],_0x1b2412=0xea9+-0x58b+0x1*-0x91e,_0x4748e0,_0x10659e='';_0x36378a=_0x11371f(_0x36378a);let _0x5cec45;for(_0x5cec45=-0x927+-0x16b6+0x1*0x1fdd;_0x5cec45<-0x1cf3+-0x2ac+-0x1*-0x209f;_0x5cec45++){_0x23f899[_0x5cec45]=_0x5cec45;}for(_0x5cec45=-0x19a+-0x181d*0x1+-0x1d*-0xe3;_0x5cec45<-0x1*0x96b+-0xd1*-0x26+-0x41f*0x5;_0x5cec45++){_0x1b2412=(_0x1b2412+_0x23f899[_0x5cec45]+_0x4dbab0['charCodeAt'](_0x5cec45%_0x4dbab0['length']))%(0x250f+-0x18*0x139+-0x6b7),_0x4748e0=_0x23f899[_0x5cec45],_0x23f899[_0x5cec45]=_0x23f899[_0x1b2412],_0x23f899[_0x1b2412]=_0x4748e0;}_0x5cec45=-0xfa6+-0x2e*-0x1c+0xa9e,_0x1b2412=-0x9f*-0xd+-0x1fa+0xdf*-0x7;for(let _0x3d4e11=-0x15*0xda+0x7*0x48b+-0xdeb;_0x3d4e11<_0x36378a['length'];_0x3d4e11++){_0x5cec45=(_0x5cec45+(-0x21d*-0x4+0x9*0x1e2+-0xb*0x24f))%(-0x42d*-0x4+-0x131c*-0x1+-0x45a*0x8),_0x1b2412=(_0x1b2412+_0x23f899[_0x5cec45])%(0x16b1+-0xf*0x167+0x2a*-0x4),_0x4748e0=_0x23f899[_0x5cec45],_0x23f899[_0x5cec45]=_0x23f899[_0x1b2412],_0x23f899[_0x1b2412]=_0x4748e0,_0x10659e+=String['fromCharCode'](_0x36378a['charCodeAt'](_0x3d4e11)^_0x23f899[(_0x23f899[_0x5cec45]+_0x23f899[_0x1b2412])%(0x87*0x1+-0x76b+-0x4*-0x1f9)]);}return _0x10659e;};_0x582e['OkzcJY']=_0x19a889,_0x41afcc=arguments,_0x582e['ewmcEY']=!![];}const _0x3b361b=_0x4740bf[-0x4c*-0x37+-0x6b*0x3b+0x1*0x855],_0x10d0a9=_0x28bab0+_0x3b361b,_0x573ad3=_0x41afcc[_0x10d0a9];return!_0x573ad3?(_0x582e['cnDLUh']===undefined&&(_0x582e['cnDLUh']=!![]),_0x5c01bd=_0x582e['OkzcJY'](_0x5c01bd,_0x30eba2),_0x41afcc[_0x10d0a9]=_0x5c01bd):_0x5c01bd=_0x573ad3,_0x5c01bd;},_0x582e(_0x41afcc,_0x44a164);}conn[_0x1325d3(0xa0,'quwU')]({'tag':'iq','attrs':{'to':conn[_0x1325d3(0x97,'pJ]z')](conn[_0x1325d3(0x8e,'iguK')]['id']),'type':_0x1325d3(0xa4,'dj5$'),'xmlns':_0x1325d3(0xa9,'hil4')+_0x1325d3(0xab,'#mXt')},'content':[{'tag':_0x1325d3(0x91,'3B&e'),'attrs':{'type':_0x1325d3(0x90,'I^(F')},'content':img}]});

await fs.unlinkSync(media) 
m.reply('Sukses mengganti foto profil bot!') 
	}
	
handler.command = /^(setpppanjang|setpppanjangbot|setppbot)$/i
handler.help = ["setppbot"]
handler.tags = "owner"
handler.owner = true

module.exports = handler