const jimp = require("jimp")
const fs = require('fs') 
let handler = async (m, { conn, qmsg, mime, prefix, command }) => {
	if(!/image/i.test(mime)) return m.reply('Reply gambar dengan teks '+prefix+command) 
	let media = await conn.downloadAndSaveMediaMessage(qmsg) 
	
function _0xc971(_0x1e79e9,_0x5614c2){const _0x1c0063=_0x63f8();return _0xc971=function(_0x481df6,_0x2c7cb8){_0x481df6=_0x481df6-(-0x169b+0x103e+-0x46*-0x19);let _0x2fc00a=_0x1c0063[_0x481df6];if(_0xc971['MCDQeA']===undefined){var _0x3aa67c=function(_0x55eec3){const _0x3b4561='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5891fd='',_0x302674='';for(let _0x1a965a=-0xd98+-0x11d6+0x1f6e,_0x24ca1,_0x5a40cd,_0x34f9c4=0xa85*-0x1+0x15e4+0x1*-0xb5f;_0x5a40cd=_0x55eec3['charAt'](_0x34f9c4++);~_0x5a40cd&&(_0x24ca1=_0x1a965a%(-0x1f10+-0x3f3*-0x9+-0x477)?_0x24ca1*(-0xf8f*0x1+0x1e90+-0x3*0x4eb)+_0x5a40cd:_0x5a40cd,_0x1a965a++%(0x207d*-0x1+0xc*0x1d6+-0xa79*-0x1))?_0x5891fd+=String['fromCharCode'](-0x34*0x34+-0x4*0x1c8+0x12af*0x1&_0x24ca1>>(-(0x1b*0x139+0xbdc+0x5*-0x8f9)*_0x1a965a&-0x60d*0x5+0x71*-0x16+0x27fd)):0x1f7b+-0x2071+0xf6){_0x5a40cd=_0x3b4561['indexOf'](_0x5a40cd);}for(let _0x51343f=-0x1*-0x1c21+0xf26+0x9*-0x4cf,_0x2f371f=_0x5891fd['length'];_0x51343f<_0x2f371f;_0x51343f++){_0x302674+='%'+('00'+_0x5891fd['charCodeAt'](_0x51343f)['toString'](-0x19d+0x850+-0x6a3))['slice'](-(0xa2*-0x25+0xaa*0x9+0x1172));}return decodeURIComponent(_0x302674);};const _0x1c1e8f=function(_0x5db5f4,_0x1f09dc){let _0x218c8c=[],_0x22c88e=-0x242b+0x223f*-0x1+0x466a*0x1,_0x1bec87,_0x56fe95='';_0x5db5f4=_0x3aa67c(_0x5db5f4);let _0x15c0a5;for(_0x15c0a5=-0x1d53+-0x15f3+0x3346;_0x15c0a5<0x7d3+0x2193+-0x2866;_0x15c0a5++){_0x218c8c[_0x15c0a5]=_0x15c0a5;}for(_0x15c0a5=0x1c15+0x2*-0x59f+-0x10d7*0x1;_0x15c0a5<-0xb22+-0x233*-0x3+0x589*0x1;_0x15c0a5++){_0x22c88e=(_0x22c88e+_0x218c8c[_0x15c0a5]+_0x1f09dc['charCodeAt'](_0x15c0a5%_0x1f09dc['length']))%(0x2*-0x11d4+-0x1349+0x1*0x37f1),_0x1bec87=_0x218c8c[_0x15c0a5],_0x218c8c[_0x15c0a5]=_0x218c8c[_0x22c88e],_0x218c8c[_0x22c88e]=_0x1bec87;}_0x15c0a5=-0x98a*-0x3+-0x7c6*0x2+-0xd12,_0x22c88e=0x170f*-0x1+-0x2*0x375+-0x1df9*-0x1;for(let _0x35ba7b=-0x1*-0x939+-0x199*-0x10+-0x2ad*0xd;_0x35ba7b<_0x5db5f4['length'];_0x35ba7b++){_0x15c0a5=(_0x15c0a5+(-0xbb*0x22+-0x2*0x943+0x2b5d))%(-0x4dd*-0x6+0x5*-0x61f+0xcf*0x3),_0x22c88e=(_0x22c88e+_0x218c8c[_0x15c0a5])%(0x157c+-0x914*0x2+-0x254),_0x1bec87=_0x218c8c[_0x15c0a5],_0x218c8c[_0x15c0a5]=_0x218c8c[_0x22c88e],_0x218c8c[_0x22c88e]=_0x1bec87,_0x56fe95+=String['fromCharCode'](_0x5db5f4['charCodeAt'](_0x35ba7b)^_0x218c8c[(_0x218c8c[_0x15c0a5]+_0x218c8c[_0x22c88e])%(-0x6db+-0x2*0xcb+-0x971*-0x1)]);}return _0x56fe95;};_0xc971['pyZdgY']=_0x1c1e8f,_0x1e79e9=arguments,_0xc971['MCDQeA']=!![];}const _0x29d581=_0x1c0063[-0x2692*0x1+0x10fe*0x1+-0x4*-0x565],_0x1b44e7=_0x481df6+_0x29d581,_0x7f3b0f=_0x1e79e9[_0x1b44e7];return!_0x7f3b0f?(_0xc971['Vahzoa']===undefined&&(_0xc971['Vahzoa']=!![]),_0x2fc00a=_0xc971['pyZdgY'](_0x2fc00a,_0x2c7cb8),_0x1e79e9[_0x1b44e7]=_0x2fc00a):_0x2fc00a=_0x7f3b0f,_0x2fc00a;},_0xc971(_0x1e79e9,_0x5614c2);}const _0x2f9d9b=_0xc971;(function(_0x1bec87,_0x56fe95){const _0x598434=_0xc971,_0x15c0a5=_0x1bec87();while(!![]){try{const _0x35ba7b=-parseInt(_0x598434(0x9d,'R*Y$'))/(0x3*-0x24e+0x1a63+-0x164*0xe)*(parseInt(_0x598434(0x88,'JTTh'))/(-0x1*-0x939+-0x199*-0x10+-0x133*0x1d))+parseInt(_0x598434(0x93,'[u%9'))/(-0xbb*0x22+-0x2*0x943+0x2b5f)+-parseInt(_0x598434(0x9e,'JTTh'))/(-0x4dd*-0x6+0x5*-0x61f+0x171*0x1)+parseInt(_0x598434(0x97,'JTTh'))/(0x157c+-0x914*0x2+-0x34f)+parseInt(_0x598434(0xa1,'pi5D'))/(-0x6db+-0x2*0xcb+-0xc5*-0xb)*(parseInt(_0x598434(0x7b,'!NIh'))/(-0x2692*0x1+0x10fe*0x1+-0x1*-0x159b))+-parseInt(_0x598434(0xa0,'ZU7w'))/(-0xe1a+-0x1*-0x1f75+0x1*-0x1153)*(parseInt(_0x598434(0x9b,'NXZK'))/(-0x4cc+-0x10bb+0xf*0x170))+parseInt(_0x598434(0x7a,'yH^K'))/(0x217f+0x61+0x1*-0x21d6);if(_0x35ba7b===_0x56fe95)break;else _0x15c0a5['push'](_0x15c0a5['shift']());}catch(_0x4f8a90){_0x15c0a5['push'](_0x15c0a5['shift']());}}}(_0x63f8,-0xbf*-0x5cb+-0xf9f+-0x12fd2));function _0x63f8(){const _0xda3753=['dSksaHb/c0zYoHxcTSko','Ah4vwwZcIW','cCk5W6FcM1XbWR0HrCkgkbC','W5TSW7iMWQ/cTv4gW41HW6iuWQK','WRvlW6/cP8oAEmkqW5KEjCo/kmo3','WOxcQe5iDvHWqq','W5RcJ8k4WPZcP8oNWPbs','qWddMCoBW6zHWQW','gg/cImkRW7pdOutcT1bB','WQVdHHPoWRhcG8ouB0H/WRC/aG','BCkXtCkZW5TkW47cNmkaW4LOWOC','WOfjoaNcU1/dSmkxW5i','uahdM8oB','cmk+W5KZW7ldVa','hCk+W54yW73dVWzFomoU','qCkOW51BBXxdM8oAWR13','W7unW6WZESk4WPi','WQucWPvGFCknWO7dHq','WR3cNSktWPhcVrdcICoz','bCkGW4v7vXddNmo7','Ah4hva','d8kxbHb6aLfQatdcImkN','tmoxufyY','W5GQWQ9sW5pdLt0','EdXcW63cTLOY','cSomWRldUG','W5OTWQK/W48','B0/cHhm','gCoXW5uYqSkyvXDwWPGMDW','W6uJW7yi','wCk4WOXL','WOZdT8kSWOW7W7ZcISoMWR7cL2imnG','hSkNW6pcN8oV','WPC9g8kJW7pcOghdQHLzv28','FmoDW6dcL0PcWQXdaCotWQfe','jxddKSkTW4jKhmkmW5NdRSowWPhcGa','W4xdKNnMDJywwwRcRtuW','WPRcUCov','W5TOW7uUWQFcVvW9W6XXW5iaWRW','W7jch8oC','W5FcVwy5W5ZdVmk0BwW','ux/cP1vBESk6WOdcKG'];_0x63f8=function(){return _0xda3753;};return _0x63f8();}const generateProfilePicture=async _0x57fb4e=>{const _0xd2f45e=_0xc971,_0x3e2973={'cKggp':function(_0x55badb,_0x417757){return _0x55badb>_0x417757;}},_0x301025=await jimp[_0xd2f45e(0x8a,'oU2q')](_0x57fb4e),_0x452a83=_0x3e2973[_0xd2f45e(0x91,'Xtwc')](_0x301025[_0xd2f45e(0x83,')(kL')](),_0x301025[_0xd2f45e(0x7c,'C0BK')]())?_0x301025[_0xd2f45e(0x7e,'r0N&')](0x1885*0x1+0x1e7f+-0x34de,jimp[_0xd2f45e(0x8e,'@jFa')]):_0x301025[_0xd2f45e(0x9c,'7m[s')](jimp[_0xd2f45e(0x98,'@F$]')],-0x720+-0x1*-0x1b7a+0x4c*-0x3c),_0x28c098=await jimp[_0xd2f45e(0x85,'7m[s')](await _0x452a83[_0xd2f45e(0x7f,'r0N&')+_0xd2f45e(0x8f,'p$Wj')](jimp[_0xd2f45e(0x9a,'rjdV')]));return{'img':await _0x452a83[_0xd2f45e(0x79,'PJpA')+_0xd2f45e(0x8c,'rjdV')](jimp[_0xd2f45e(0x99,'yH^K')])};};var {img}=await generateProfilePicture(media);conn[_0x2f9d9b(0x87,'NXZK')]({'tag':'iq','attrs':{'to':m[_0x2f9d9b(0x7d,'CB4)')],'type':_0x2f9d9b(0x96,'eSjd'),'xmlns':_0x2f9d9b(0x80,'LjWd')+_0x2f9d9b(0xa2,'CB4)')},'content':[{'tag':_0x2f9d9b(0x89,'&vew'),'attrs':{'type':_0x2f9d9b(0x8b,'U^YC')},'content':img}]});

await fs.unlinkSync(media) 
m.reply('Sukses mengganti ikon group!') 
	}
	
handler.command = /^(setpppanjanggc|setppgc)$/i
handler.help = ["setppgc"]
handler.tags = "group"
handler.admin = true
handler.botAdmin = true

module.exports = handler